<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste EventMaster</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        
        function TestApp() {
            const [status, setStatus] = useState('Testando ambiente...');
            const [envVars, setEnvVars] = useState({});
            
            useEffect(() => {
                // Testar vari√°veis de ambiente
                const vars = {
                    VITE_SUPABASE_URL: import.meta.env?.VITE_SUPABASE_URL || 'N√ÉO DEFINIDA',
                    VITE_SUPABASE_ANON_KEY: import.meta.env?.VITE_SUPABASE_ANON_KEY ? 'DEFINIDA' : 'N√ÉO DEFINIDA'
                };
                
                setEnvVars(vars);
                
                if (vars.VITE_SUPABASE_URL !== 'N√ÉO DEFINIDA' && vars.VITE_SUPABASE_ANON_KEY === 'DEFINIDA') {
                    setStatus('‚úÖ Vari√°veis OK! Testando Supabase...');
                    
                    // Testar conex√£o Supabase
                    testSupabaseConnection();
                } else {
                    setStatus('‚ùå Vari√°veis n√£o configuradas');
                }
            }, []);
            
            const testSupabaseConnection = async () => {
                try {
                    // Carregar Supabase dinamicamente
                    const { createClient } = await import('https://esm.sh/@supabase/supabase-js@2');
                    
                    const supabase = createClient(
                        import.meta.env.VITE_SUPABASE_URL,
                        import.meta.env.VITE_SUPABASE_ANON_KEY
                    );
                    
                    const { data, error } = await supabase.from('events').select('count').single();
                    
                    if (error) {
                        setStatus(`‚ùå Erro Supabase: ${error.message}`);
                    } else {
                        setStatus(`‚úÖ Supabase conectado! Events: ${data?.count || 0}`);
                    }
                } catch (error) {
                    setStatus(`‚ùå Erro ao carregar Supabase: ${error.message}`);
                }
            };
            
            return React.createElement('div', {
                style: {
                    padding: '40px',
                    fontFamily: 'Arial, sans-serif',
                    maxWidth: '800px',
                    margin: '0 auto'
                }
            }, [
                React.createElement('h1', { style: { color: '#333' } }, 'üîç Teste EventMaster AI'),
                React.createElement('div', {
                    style: {
                        backgroundColor: '#f5f5f5',
                        padding: '20px',
                        borderRadius: '8px',
                        margin: '20px 0'
                    }
                }, [
                    React.createElement('h3', null, 'Status:'),
                    React.createElement('p', { 
                        style: { fontSize: '18px', fontWeight: 'bold' } 
                    }, status),
                    React.createElement('h4', { style: { marginTop: '20px' } }, 'Vari√°veis de Ambiente:'),
                    React.createElement('pre', {
                        style: {
                            backgroundColor: '#fff',
                            padding: '10px',
                            border: '1px solid #ddd',
                            borderRadius: '4px',
                            overflow: 'auto'
                        }
                    }, JSON.stringify(envVars, null, 2))
                ])
            ]);
        }
        
        ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(TestApp));
    </script>
</body>
</html>
